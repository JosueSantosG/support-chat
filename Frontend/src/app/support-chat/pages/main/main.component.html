<app-header></app-header>
<app-spinner [isLoading]="isLoading"></app-spinner>
<div
    class="flex items-center justify-center w-full h-screen py-6 md:py-24 lg:py-32"
>
    <div class="container mt-14 mx-auto px-4 md:px-6">
        <div
            class="mx-auto max-w-lg text-center bg-[#c3e1d9] border-2 border-green-700/50 dark:bg-[#1f2b3e] dark:border-2 dark:border-gray-400 shadow-lg rounded-lg px-5 py-14"
        >
            <p class="text-2xl font-bold sm:text-4xl md:text-5xl text-pretty">
                Chat de soporte en l√≠nea üöÄ
            </p>
            <p class="my-12 text-lg md:text-xl text-pretty">
                Obt√©n ayuda r√°pida y eficiente con nuestro chat online. Inicia
                una conversaci√≥n y resuelve tus dudas.
            </p>
            <form [formGroup]="myForm" (ngSubmit)="joinRoom()" class="mt-8 gap-6">
                <ul>
                    <li>
                        <label
                            class="flex text-md font-medium md:text-xl"
                            for="name"
                        >
                            Identif√≠quese:
                        </label>
                        <input
                            class="mt-2 text-sm w-full rounded-md border p-3 shadow-lg focus:outline-none text-black bg-white dark:bg-black dark:text-white"
                            id="name"
                            formControlName="name"
                            placeholder="Ingresa tu nombre"
                            type="text"
                            autofocus
                        />
                        <div
                            *ngIf="nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)"
                            class="text-red-500 text-sm mt-1"
                        >
                            <div *ngIf="nameControl?.errors?.['required']">El nombre es requerido</div>
                            <div *ngIf="nameControl?.errors?.['minlength']">Nombre muy corto (min. 3 caracteres)</div>
                            <div *ngIf="nameControl?.errors?.['pattern']">El nombre solo debe tener letras</div>
                            <div *ngIf="nameControl?.errors?.['maxlength']">Nombre muy largo (max. 20 caracteres)</div>
                            <div *ngIf="nameControl?.errors?.['whitespace']">Nombre inv√°lido (no puede ser solo espacios)</div>
                            
                        </div>
                    </li>
                    <li class="mt-4">
                        <button
                            class="w-full rounded-md py-3 px-4 text-lg font-medium shadow-lg border-transparent bg-slate-700 text-white hover:bg-slate-500 transition-colors duration-300"
                            type="submit"
                            [disabled]="myForm.invalid"
                            [ngClass]="myForm.invalid ? 'cursor-not-allowed' : 'cursor-pointer'"
                        >
                            Iniciar Chat
                        </button>
                    </li>
                </ul>
            </form>
            
        </div>
    </div>
</div>
